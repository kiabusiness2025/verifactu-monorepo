#!/bin/sh
# Pre-commit hook - runs linting and formatting checks

set -e

# Get the list of staged files
STAGED_FILES=$(git diff --cached --name-only)

# Check if there are any TypeScript/JavaScript files staged
if echo "$STAGED_FILES" | grep -E '\.(ts|tsx|js|jsx)$' > /dev/null; then
  echo "ğŸ” Running ESLint on staged files..."
  
  # Run lint-staged
  pnpm lint-staged
  
  echo "âœ… Pre-commit checks passed!"
else
  echo "â­ï¸  No TypeScript/JavaScript files to lint"
fi
